{% extends "settings/base.html.j2" %}

{% block breadcrumbs %}
<li class="breadcrumb-item active" aria-current="page">Activity Kinds</li>
{% endblock %}

{% block settings_content %}
<h1 class="mb-3">Activity Kinds</h1>

<p>Apart from bicycle rides and runs, you might also record your car and train rides. If you don't want to include these
    for achievements like explorer tiles, you can enter the activity kinds that should not be considered here.</p>

<p>You can also map alternative names to canonical kinds. For example, if some service exports "Ride" but you want to use "Radfahrt", 
    set "Ride" to be replaced by "Radfahrt". When activities are imported with "Ride", they will automatically use "Radfahrt" instead.</p>

{% if kinds %}
<table class="table mb-3">
    <thead>
        <tr>
            <th>Name</th>
            <th>Consider for Achievements</th>
            <th>Default Equipment</th>
            <th>Replaced By</th>
            <th>Activities</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for kind in kinds %}
        <tr>
            <td>{{ kind.name }}</td>
            <td>
                {% if kind.consider_for_achievements %}
                    <span class="badge bg-success">Yes</span>
                {% else %}
                    <span class="badge bg-secondary">No</span>
                {% endif %}
            </td>
            <td>
                {% if kind.default_equipment %}
                    {{ kind.default_equipment.name }}
                {% else %}
                    <span class="text-muted">—</span>
                {% endif %}
            </td>
            <td>
                {% if kind.replaced_by %}
                    {{ kind.replaced_by.name }}
                {% else %}
                    <span class="text-muted">—</span>
                {% endif %}
            </td>
            <td>{{ kind.activities|length }}</td>
            <td>
                <a class="btn btn-sm btn-primary" href="{{ url_for('.kinds_edit', id=kind.id) }}">Edit</a>
                <a class="btn btn-sm btn-danger" href="{{ url_for('.kinds_delete', id=kind.id) }}"
                    onclick="if(!confirm('Are you sure you want to delete this kind?')){event.preventDefault()}">Delete</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p class="text-muted">No kinds defined yet.</p>
{% endif %}

<a class="btn btn-primary" href="{{ url_for('.kinds_new') }}">New Kind</a>
{% endblock %}

